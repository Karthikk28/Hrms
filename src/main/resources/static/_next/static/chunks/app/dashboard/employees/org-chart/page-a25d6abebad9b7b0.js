(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7539],{41809:function(e,t,s){Promise.resolve().then(s.bind(s,10426))},33480:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var l=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let s=(0,l.forwardRef)((s,n)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:x,...h}=s;return(0,l.createElement)("svg",{ref:n,...r,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(a(e)),u].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(x)?x:[x]])});return s.displayName="".concat(e),s}},42421:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(33480).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},14392:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(33480).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},35931:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(33480).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},4086:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(33480).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},49321:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(33480).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},89832:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(33480).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},54817:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(33480).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},10426:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var l=s(57437),r=s(2265),a=s(14392),n=s(42421),i=s(4086),o=s(89832),c=s(49321),d=s(54817),u=s(33480);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,u.Z)("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),h=(0,u.Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var m=s(35931);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,u.Z)("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),p=e=>{var t,s,d;let{node:u,level:x=0,searchQuery:h=""}=e,[m,f]=(0,r.useState)(!0),b=u.children&&u.children.length>0,y=h&&((null===(t=u.name)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(s=u.role)||void 0===s?void 0:s.toLowerCase().includes(h.toLowerCase()))),g=async e=>{try{if(!(await fetch("http://localhost:8081/api/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e.email,subject:"Message from ZentraHR",message:"Hello Good morning ".concat(e.name,", This mail is from zentrahr")})})).ok)throw Error("Mail failed");alert("Email Sent ✅")}catch(e){console.error(e),alert("Email Failed ❌")}},j=b&&(m||!!h);return(0,l.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,l.jsx)("div",{className:"peer group relative z-10 w-56 transition-all duration-300 ".concat(0===x?"scale-110 mb-8":"mb-8"),children:(0,l.jsx)("div",{className:"\n                    bg-white rounded-2xl border-b-4 border-blue-500 shadow-sm transition-all overflow-hidden\n                    ".concat(y?"ring-4 ring-yellow-400 scale-105 shadow-2xl":"hover:shadow-xl hover:-translate-y-1","\n                "),children:(0,l.jsxs)("div",{className:"p-4 flex flex-col items-center text-center",children:[(0,l.jsxs)("div",{className:"relative mb-3",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center font-bold text-blue-600 border-4 border-white shadow-md",children:null===(d=u.name)||void 0===d?void 0:d.charAt(0)}),b&&!h&&(0,l.jsx)("button",{onClick:()=>f(!m),className:"absolute -bottom-2 -right-2 w-6 h-6 bg-white rounded-full shadow-md flex items-center justify-center border border-slate-100 hover:bg-slate-50 text-slate-500 z-20",children:m?(0,l.jsx)(a.Z,{size:14}):(0,l.jsx)(n.Z,{size:14})})]}),(0,l.jsx)("h4",{className:"font-bold text-slate-900 text-lg leading-tight mb-1",children:y?(0,l.jsx)("span",{className:"bg-yellow-100 text-slate-900 px-1 rounded",children:u.name}):u.name}),(0,l.jsx)("p",{className:"text-xs font-bold uppercase tracking-wide text-slate-600 mb-2",children:u.role}),(0,l.jsxs)("div",{className:"mt-3 w-full border-t border-slate-200 pt-3 text-xs text-slate-700 space-y-2 text-left",children:[u.email&&(0,l.jsxs)("button",{onClick:()=>g(u),className:"flex items-center gap-2 hover:text-blue-600",title:"Send Email",children:[(0,l.jsx)(i.Z,{size:14}),(0,l.jsx)("span",{children:u.email})]}),u.phone&&(0,l.jsxs)("a",{href:"tel:".concat(u.phone),className:"flex items-center gap-2 hover:text-green-600",children:[(0,l.jsx)(o.Z,{size:14}),(0,l.jsx)("span",{children:u.phone})]}),u.location&&(0,l.jsxs)("a",{href:"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(u.location)),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-blue-600",children:[(0,l.jsx)(c.Z,{size:14}),(0,l.jsx)("span",{children:u.location})]})]})]})})}),j&&(0,l.jsxs)("div",{className:"flex flex-col items-center animate-in fade-in slide-in-from-top-4 duration-300",children:[(0,l.jsx)("div",{className:"w-0.5 h-8 bg-slate-300"}),(0,l.jsxs)("div",{className:"flex items-start justify-center relative",children:[u.children.length>1&&(0,l.jsx)("div",{className:"absolute top-0 h-0.5 bg-slate-300 w-[calc(100%-16rem)] left-1/2 -translate-x-1/2"}),(0,l.jsx)("div",{className:"flex gap-8 pt-0 relative",children:u.children.map((e,t)=>(0,l.jsxs)("div",{className:"flex flex-col items-center relative",children:[(0,l.jsx)("div",{className:"w-0.5 h-8 bg-slate-300 -mt-0.5 mb-2 relative",children:(0,l.jsx)("div",{className:"absolute -top-1 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-slate-300"})}),(0,l.jsx)(p,{node:e,level:x+1,searchQuery:h})]},e.id))})]})]})]})};function b(){let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),[n,i]=(0,r.useState)(1),[o,c]=(0,r.useState)(""),[u,b]=(0,r.useState)(!0),[y,g]=(0,r.useState)(!1);return((0,r.useRef)(null),(0,r.useRef)({x:0,y:0}),(0,r.useEffect)(()=>{fetch("http://localhost:8081/api/org-chart").then(e=>e.json()).then(e=>{console.log("ORG DATA FROM BACKEND:",e),t(e.children[0]),a(!1)}).catch(e=>{console.error("Backend error:",e),a(!1)})},[]),s)?(0,l.jsx)("div",{className:"h-screen flex items-center justify-center text-xl font-bold",children:"Loading Organization Chart..."}):(0,l.jsxs)("div",{className:"h-[calc(100vh-2rem)] bg-slate-50/50 flex flex-col overflow-hidden relative",children:[(0,l.jsxs)("div",{className:"absolute top-6 left-6 z-50 bg-white/80 backdrop-blur-md p-4 rounded-2xl shadow-lg border border-slate-200/50 flex flex-col md:flex-row items-center justify-between w-[calc(100%-3rem)] md:w-auto gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Organization Chart"}),(0,l.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider",children:"Interactive Hierarchy"})]}),(0,l.jsxs)("div",{className:"relative w-64",children:[(0,l.jsx)(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),(0,l.jsx)("input",{type:"text",placeholder:"Find employee...",value:o,onChange:e=>c(e.target.value),className:"w-full pl-9 pr-4 py-2 bg-slate-100 border-none rounded-xl text-sm font-bold text-slate-900 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all outline-none"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>i(Math.max(.5,n-.1)),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",children:(0,l.jsx)(x,{size:20})}),(0,l.jsxs)("span",{className:"font-mono font-bold text-slate-600 w-12 text-center",children:[Math.round(100*n),"%"]}),(0,l.jsx)("button",{onClick:()=>i(Math.min(2,n+.1)),className:"p-2 hover:bg-slate-100 rounded-lg text-slate-500 transition-colors",children:(0,l.jsx)(h,{size:20})})]})]}),(0,l.jsxs)("div",{className:"absolute bottom-8 right-8 z-50 flex flex-col gap-3",children:[(0,l.jsx)("button",{className:"w-12 h-12 bg-white rounded-full shadow-xl flex items-center justify-center text-slate-600 hover:text-blue-600 transition-colors",children:(0,l.jsx)(m.Z,{size:20})}),(0,l.jsx)("button",{className:"w-12 h-12 bg-slate-900 text-white rounded-full shadow-xl flex items-center justify-center hover:scale-110 transition-transform",children:(0,l.jsx)(f,{size:20})})]}),(0,l.jsx)("div",{className:"flex-1 overflow-auto cursor-grab active:cursor-grabbing custom-scrollbar flex items-start justify-start pt-32 pb-20 px-40",children:(0,l.jsx)("div",{style:{transform:"scale(".concat(n,")"),transformOrigin:"top left"},className:"transition-transform duration-200 ease-out inline-block min-w-max",children:e&&(0,l.jsx)(p,{node:e,searchQuery:o})})}),(0,l.jsx)("div",{className:"absolute inset-0 pointer-events-none -z-10 opacity-[0.03]",style:{backgroundImage:"radial-gradient(#000 1px, transparent 1px)",backgroundSize:"20px 20px"}})]})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=41809)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3312],{34464:function(e,t,s){Promise.resolve().then(s.bind(s,6241))},33480:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var a=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{color:i="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:m="",children:h,...u}=s;return(0,a.createElement)("svg",{ref:r,...n,width:o,height:o,stroke:i,strokeWidth:c?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(l(e)),m].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},87592:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},13231:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},40933:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},22023:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},32271:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]])},4086:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},90374:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]])},52022:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6241:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(57437),n=s(2265),l=s(90374),r=s(52022),i=s(32271),o=s(22023),d=s(40933),c=s(13231),m=s(4086),h=s(87592);function u(){let[e,t]=n.useState([]),[s,u]=n.useState(null),g=new Date().toLocaleDateString("en-US",{month:"short",day:"2-digit"}),f=new Date(new Date().setDate(new Date().getDate()+3)).toLocaleDateString("en-US",{month:"short",day:"2-digit"}),v=e=>{let t=e.tasks.length,s=e.taskChecks.filter(Boolean).length;return 0===s?{status:"Pending",date:"Due ".concat(f)}:s<t?{status:"In Progress",date:"Due ".concat(f)}:{status:"Completed",date:g}},w=e=>{let t=e.steps.reduce((e,t)=>e+t.tasks.length,0),s=e.steps.reduce((e,t)=>e+t.taskChecks.filter(Boolean).length,0);return 0===t?0:Math.round(s/t*100)};n.useEffect(()=>{!async function(){try{let e=await fetch("http://localhost:8081/api/candidates/onboarding"),s=(await e.json()).filter(e=>{var t;return(null===(t=e.currentStatus)||void 0===t?void 0:t.toLowerCase())==="offered"}),a=await Promise.all(s.map(async e=>{var t,s;let a=[];try{let t=await fetch("http://localhost:8081/api/onboarding/status/".concat(e.id));if(t.ok){let e=await t.json();a=Array.isArray(e)?e:[]}else console.warn("No onboarding status found for candidate ".concat(e.id)),a=[]}catch(t){console.warn("Failed to fetch status for candidate ".concat(e.id),t),a=[]}let n=new Map(a.map(e=>["".concat(e.stepName,"-").concat(e.taskName),!!e.completed])),l=[{id:1,name:"Offer Signed",tasks:["Review Offer","Sign Digital Contract","NDA Acceptance"]},{id:2,name:"Background Check",tasks:["Identity Verification","Criminal Record Check","Employment History"]},{id:3,name:"IT Provisioning",tasks:["Laptop Configuration","Email Creation","GitHub Access","Slack Invite"]},{id:4,name:"Document Upload",tasks:["Passport Scan","Tax Documents","Bank Details"]}].map(e=>{let t=e.tasks.map(t=>{var s;return null!==(s=n.get("".concat(e.name,"-").concat(t)))&&void 0!==s&&s}),s={...e,taskChecks:t},a=v(s);return{...s,status:a.status,date:a.date}}),r={id:e.id,avatar:null===(t=e.name)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase(),name:e.name,role:(null===(s=e.job)||void 0===s?void 0:s.title)||"Unknown Role",start:"TBD",steps:l};return{...r,progress:w(r)}}));t(a)}catch(e){console.error("Failed to load onboarding candidates:",e)}}()},[]);let j=(e,a,n)=>{t(t=>t.map(t=>{if(t.id!==e)return t;let l=t.steps.map(t=>{if(t.id!==a)return t;let s=[...t.taskChecks];s[n]=!s[n],fetch("http://localhost:8081/api/onboarding/task",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({candidateId:e,stepName:t.name,taskName:t.tasks[n],completed:s[n]})});let l={...t,taskChecks:s},r=v(l);return{...l,status:r.status,date:r.date}}),r={...t,steps:l,progress:w({...t,steps:l})};return(null==s?void 0:s.id)===e&&u(r),r}))},k=async(e,t)=>{try{if(!(await fetch("http://localhost:8081/api/onboarding/resend-welcome/".concat(e),{method:"POST"})).ok)throw Error();alert("\uD83D\uDCE9 Welcome email sent to ".concat(t))}catch(e){alert("âŒ Failed to send welcome email")}},y=n.useMemo(()=>{let t=e.filter(e=>e.progress<100).length;return{pendingHires:t,laptopsShipped:e.filter(e=>{var t;return(null===(t=e.steps.find(e=>"IT Provisioning"===e.name))||void 0===t?void 0:t.status)==="Completed"}).length,pendingDocs:e.filter(e=>{var t;return(null===(t=e.steps.find(e=>"Document Upload"===e.name))||void 0===t?void 0:t.status)!=="Completed"}).length,avgOnboardTime:0===t?"0 Days":"4 Days"}},[e]);return(0,a.jsxs)("div",{className:"min-h-screen pb-20 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-4xl font-black text-slate-900 tracking-tight",children:["Onboarding ",(0,a.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-600",children:"Tracker"})]}),(0,a.jsx)("p",{className:"text-slate-500 mt-2 font-medium text-lg",children:"Monitor and manage the onboarding journey of new hires."})]}),(0,a.jsxs)("button",{onClick:()=>window.location.href="/dashboard/employees/onboard",className:"flex items-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition-all shadow-lg hover:shadow-xl active:scale-95",children:[(0,a.jsx)(l.Z,{size:18})," New Onboarding"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[{label:"Pending Hires",val:y.pendingHires,color:"bg-emerald-50 text-emerald-600",icon:r.Z},{label:"Laptops Shipped",val:y.laptopsShipped,color:"bg-indigo-50 text-indigo-600",icon:i.Z},{label:"Pending Docs",val:y.pendingDocs,color:"bg-amber-50 text-amber-600",icon:o.Z},{label:"Avg Onboard Time",val:y.avgOnboardTime,color:"bg-blue-50 text-blue-600",icon:d.Z}].map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:e.label}),(0,a.jsx)("p",{className:"text-3xl font-black text-slate-900",children:e.val})]}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center ".concat(e.color," font-bold"),children:(0,a.jsx)(e.icon,{size:20})})]},t))}),(0,a.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-[2rem] p-8 border border-slate-100 shadow-sm hover:shadow-lg transition-all duration-300 group",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-5",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-slate-900 text-white flex items-center justify-center text-xl font-bold shadow-lg shadow-slate-900/20 group-hover:scale-105 transition-transform",children:e.avatar}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-black text-slate-900",children:e.name}),(0,a.jsxs)("p",{className:"text-slate-500 font-bold text-sm flex items-center gap-2 mt-1",children:[(0,a.jsx)(x,{size:14,className:"text-slate-400"}),e.role,(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),(0,a.jsxs)("span",{className:"text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded text-xs font-bold border border-emerald-100",children:["Starts ",e.start]})]})]})]}),(0,a.jsxs)("div",{className:"w-full md:w-72 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs font-bold text-slate-600 mb-2",children:[(0,a.jsx)("span",{children:"Onboarding Progress"}),(0,a.jsxs)("span",{className:"text-slate-900",children:[e.progress,"%"]})]}),(0,a.jsx)("div",{className:"w-full h-2.5 bg-slate-200 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-slate-900 rounded-full transition-all duration-1000 ease-out relative overflow-hidden",style:{width:"".concat(e.progress,"%")},children:(0,a.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-[shimmer_2s_infinite]"})})})]})]}),(0,a.jsxs)("div",{className:"relative px-2",children:[(0,a.jsx)("div",{className:"absolute top-[26px] left-0 w-full h-[3px] bg-slate-100 -z-10 hidden md:block rounded-full"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:e.steps.map((t,s)=>{let n="Completed"===t.status,l="In Progress"===t.status;return(0,a.jsxs)("div",{className:"relative bg-white md:bg-transparent p-4 md:p-0 rounded-xl border border-slate-100 md:border-none md:text-center flex md:block items-center gap-4 md:gap-0",children:[(0,a.jsxs)("div",{className:"\n                                                    w-14 h-14 rounded-full border-[4px] flex items-center justify-center mb-3 font-bold transition-all duration-300 relative z-10 shrink-0\n                                                    md:mx-auto\n                                                    ".concat(n?"bg-emerald-500 border-white md:border-slate-50 text-white shadow-emerald-200 shadow-lg":l?"bg-amber-400 border-white md:border-slate-50 text-white shadow-amber-200 shadow-lg scale-110":"bg-slate-100 border-white md:border-slate-50 text-slate-400","\n                                                "),children:[n?(0,a.jsx)(c.Z,{size:24}):(0,a.jsx)("span",{children:s+1}),l&&(0,a.jsx)("span",{className:"absolute -inset-1 rounded-full bg-amber-400/30 animate-ping"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-sm ".concat("Pending"===t.status?"text-slate-400":"text-slate-900"),children:t.name}),(0,a.jsx)("p",{className:"text-[11px] font-bold mt-1 inline-block px-2 py-0.5 rounded ".concat(n?"text-emerald-600 bg-emerald-50":l?"text-amber-600 bg-amber-50":"text-slate-400 bg-slate-50"),children:n?"Done ".concat(t.date):t.date})]}),s!==e.steps.length-1&&(0,a.jsx)("div",{className:"absolute left-[39px] top-[60px] w-[3px] h-[30px] bg-slate-100 md:hidden -z-10"})]},s)})})]}),(0,a.jsxs)("div",{className:"mt-10 pt-6 border-t border-slate-100 flex flex-col sm:flex-row justify-end gap-3",children:[(0,a.jsxs)("button",{onClick:()=>k(e.id,e.name),className:"px-6 py-2.5 bg-white border border-slate-200 text-slate-600 rounded-xl font-bold text-sm   hover:border-slate-300 hover:bg-slate-50 transition-all flex items-center gap-2",children:[(0,a.jsx)(m.Z,{size:16}),"Resend Welcome Email"]}),(0,a.jsxs)("button",{onClick:()=>u(e),className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-bold text-sm   hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/10 active:scale-95   flex items-center gap-2",children:["View Checklist ",(0,a.jsx)(h.Z,{size:16})]})]})]},e.id))}),s&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",onClick:()=>u(null)}),(0,a.jsxs)("div",{className:"relative w-full max-w-2xl bg-white rounded-[2rem] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[(0,a.jsxs)("div",{className:"bg-slate-50/80 p-6 border-b border-slate-100 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-slate-900 text-white flex items-center justify-center font-bold text-lg",children:s.avatar}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-black text-slate-900",children:s.name}),(0,a.jsx)("p",{className:"text-sm font-bold text-slate-500",children:"Onboarding Checklist"})]})]}),(0,a.jsx)("button",{onClick:()=>u(null),className:"p-2 bg-white rounded-full hover:bg-slate-200 text-slate-400 hover:text-slate-900 transition-colors shadow-sm",children:(0,a.jsx)(p,{size:20})})]}),(0,a.jsx)("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-8",children:s.steps.map((e,t)=>(0,a.jsxs)("div",{className:"relative pl-8 border-l-2 border-slate-100 pb-2 last:border-0 last:pb-0",children:[(0,a.jsx)("div",{className:"\n                                            absolute -left-[9px] top-0 w-4 h-4 rounded-full border-2 border-white shadow-sm\n                                            ".concat("Completed"===e.status?"bg-emerald-500":"In Progress"===e.status?"bg-amber-500":"bg-slate-300","\n                                        ")}),(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsx)("h4",{className:"font-bold text-slate-900 text-lg",children:e.name}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded ".concat("Completed"===e.status?"bg-emerald-50 text-emerald-600":"In Progress"===e.status?"bg-amber-50 text-amber-600":"bg-slate-100 text-slate-500"),children:e.status})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.tasks&&e.tasks.length>0?e.tasks.map((t,n)=>{var l,r;return(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 border border-slate-100",children:[(0,a.jsx)("button",{type:"button",onClick:()=>j(s.id,e.id,n),className:"\n      w-5 h-5 rounded flex items-center justify-center border transition-colors\n      ".concat((null===(l=e.taskChecks)||void 0===l?void 0:l[n])?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 bg-white text-transparent","\n    "),children:(0,a.jsx)(b,{size:12,strokeWidth:4})}),(0,a.jsx)("span",{onClick:()=>j(s.id,e.id,n),className:"text-sm font-medium cursor-pointer\n      ".concat((null===(r=e.taskChecks)||void 0===r?void 0:r[n])?"text-slate-400 line-through":"text-slate-700","\n    "),children:t})]},n)}):(0,a.jsx)("p",{className:"text-sm text-slate-400 italic",children:"No specific tasks listed."})})]},t))}),(0,a.jsx)("div",{className:"p-4 bg-slate-50 border-t border-slate-100 flex justify-end",children:(0,a.jsx)("button",{onClick:()=>u(null),className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 shadow-lg active:scale-95 transition-all",children:"Close Checklist"})})]})]})]})}function x(e){let{size:t,className:s}=e;return(0,a.jsxs)("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2"}),(0,a.jsx)("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]})}function p(e){let{size:t}=e;return(0,a.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M18 6 6 18"}),(0,a.jsx)("path",{d:"m6 6 18 18"})]})}function b(e){let{size:t,strokeWidth:s}=e;return(0,a.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"20 6 9 17 4 12"})})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=34464)}),_N_E=e.O()}]);
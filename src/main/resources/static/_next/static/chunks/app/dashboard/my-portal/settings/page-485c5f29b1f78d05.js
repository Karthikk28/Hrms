(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5090],{2561:function(e,t,a){Promise.resolve().then(a.bind(a,28806))},33480:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{color:n="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:h="",children:u,...x}=a;return(0,s.createElement)("svg",{ref:i,...l,width:o,height:o,stroke:n,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(r(e)),h].join(" "),...x},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(u)?u:[u]])});return a.displayName="".concat(e),a}},6600:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},80233:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},87592:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},92940:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},74453:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},89896:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},4086:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},85302:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},92699:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},38296:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},52022:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(33480).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},28806:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k},dynamic:function(){return N}});var s=a(57437),l=a(52022),r=a(6600),i=a(74453),n=a(85302),o=a(87592),c=a(89896),d=a(80233),h=a(4086),u=a(38296),x=a(92940),p=a(92699),m=a(2265);function f(){return localStorage.getItem("accessToken")}function g(){return localStorage.getItem("employeeId")}async function b(){let e=g(),t=await fetch("http://localhost:8081/api/settings/me?empId=".concat(e),{headers:{Authorization:"Bearer ".concat(f())}});if(!t.ok)throw Error("Failed to fetch user settings");return t.json()}async function y(e){let t=g(),a={name:e.name,designation:e.designation,email:e.email,phone:e.phone,department:e.department||null},s=await fetch("http://localhost:8081/api/settings/update?empId=".concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f())},body:JSON.stringify(a)});if(!s.ok)throw Error(await s.text()||"Profile update failed");return s.json()}async function j(e,t){if(!(await fetch("http://localhost:8081/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(f())},body:JSON.stringify({currentPassword:e,newPassword:t})})).ok)throw Error("Password update failed")}async function w(e){let t=g(),a=new FormData;a.append("file",e);let s=await fetch("http://localhost:8081/api/settings/update-photo?empId=".concat(t),{method:"POST",headers:{Authorization:"Bearer ".concat(f())},body:a});if(!s.ok)throw Error("Failed to upload image");return s.json()}async function v(){await fetch("http://localhost:8081/api/auth/logout",{method:"POST",headers:{Authorization:"Bearer ".concat(f())}}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("employeeId")}let N="force-dynamic";function k(){var e;let[t,a]=(0,m.useState)("profile"),[f,g]=(0,m.useState)(!1),[N,k]=(0,m.useState)(!0),[Z,C]=(0,m.useState)({fullName:"",email:"",phone:"",designation:"",avatar:""}),[P,z]=(0,m.useState)({current:"",newPass:"",confirm:""});(0,m.useEffect)(()=>{"true"===localStorage.getItem("darkMode")&&g(!0)},[]),(0,m.useEffect)(()=>{(async function(){try{let e=await b();C({fullName:e.name||"",email:e.email||"",phone:e.phone||"",designation:e.designation||"",avatar:e.photoUrl||""})}catch(e){console.error("Failed to load settings",e)}})()},[]);let S=async()=>{try{await y({name:Z.fullName,email:Z.email,phone:Z.phone,designation:Z.designation}),alert("Profile updated!")}catch(e){console.error(e),alert("Failed to update profile.")}},M=async()=>{if(P.newPass!==P.confirm){alert("Passwords do not match");return}try{await j(P.current,P.newPass),alert("Password updated!"),z({current:"",newPass:"",confirm:""})}catch(e){console.error(e),alert("Failed to update password.")}},E=async e=>{var t;if(null===(t=e.target.files)||void 0===t?void 0:t[0])try{let t=await w(e.target.files[0]);C(e=>({...e,avatar:t})),alert("Profile picture updated!")}catch(e){console.error("Failed to update profile image",e),alert("Failed to update profile image.")}},A=[{id:"profile",label:"My Profile",icon:l.Z},{id:"notifications",label:"Notifications",icon:r.Z},{id:"security",label:"Security & Login",icon:i.Z},{id:"appearance",label:"Appearance",icon:n.Z}];return(0,s.jsxs)("div",{className:"min-h-screen space-y-6 animate-in fade-in zoom-in-95 duration-500 pb-20",children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("h1",{className:"text-4xl font-black text-slate-800 tracking-tight",children:"Settings"}),(0,s.jsx)("p",{className:"text-slate-500 mt-2 font-medium text-lg",children:"Manage your account preferences and personalized settings."})]}),(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 mt-8",children:[(0,s.jsxs)("div",{className:"lg:w-72 flex-shrink-0 space-y-2",children:[A.map(e=>(0,s.jsxs)("button",{onClick:()=>a(e.id),className:"w-full flex items-center justify-between p-4 rounded-2xl font-bold transition-all duration-300 group ".concat(t===e.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-500/30 ring-2 ring-indigo-600/20":"bg-white text-slate-500 hover:bg-slate-50 hover:text-slate-800 border border-slate-100"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(e.icon,{size:20,className:t===e.id?"text-indigo-200":"text-slate-400 group-hover:text-indigo-500 transition-colors"}),(0,s.jsx)("span",{children:e.label})]}),t===e.id&&(0,s.jsx)(o.Z,{size:16,className:"text-indigo-200"})]},e.id)),(0,s.jsx)("div",{className:"h-px w-full bg-slate-200 my-4"}),(0,s.jsxs)("button",{onClick:async()=>{try{await v(),window.location.href="/login"}catch(e){alert("Logout failed. Check console."),console.error(e)}},className:"w-full flex items-center gap-3 p-4 rounded-2xl font-bold text-red-500 hover:bg-red-50 transition-colors",children:[(0,s.jsx)(c.Z,{size:20}),(0,s.jsx)("span",{children:"Sign Out"})]})]}),(0,s.jsxs)("div",{className:"flex-1 bg-white border border-slate-100 rounded-[2.5rem] p-8 lg:p-12 shadow-sm min-h-[600px]",children:["profile"===t&&(0,s.jsxs)("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"relative group cursor-pointer",children:[(0,s.jsx)("input",{type:"file",className:"hidden",id:"avatarUpload",onChange:E}),(0,s.jsxs)("label",{htmlFor:"avatarUpload",children:[(0,s.jsx)("div",{className:"w-32 h-32 rounded-3xl bg-slate-100 overflow-hidden border-4 border-white shadow-xl flex items-center justify-center text-4xl font-black",children:Z.avatar?(0,s.jsx)("img",{src:"http://localhost:8081/".concat(Z.avatar),className:"w-full h-full object-cover",alt:"avatar"}):(0,s.jsx)("div",{className:"text-white bg-gradient-to-br from-indigo-500 to-purple-600 w-full h-full flex items-center justify-center",children:null===(e=Z.fullName)||void 0===e?void 0:e.substring(0,2).toUpperCase()})}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center text-white backdrop-blur-sm",children:(0,s.jsx)(d.Z,{size:24})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-black text-slate-800",children:Z.fullName}),(0,s.jsx)("p",{className:"text-slate-500 font-medium",children:Z.designation})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Full Name"}),(0,s.jsx)("input",{type:"text",value:Z.fullName,onChange:e=>C({...Z,fullName:e.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Email Address"}),(0,s.jsx)("input",{type:"email",value:Z.email,onChange:e=>C({...Z,email:e.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Phone Number"}),(0,s.jsx)("input",{type:"text",value:Z.phone,onChange:e=>C({...Z,phone:e.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-400 uppercase",children:"Designation"}),(0,s.jsx)("input",{type:"text",value:Z.designation,onChange:e=>C({...Z,designation:e.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl font-bold text-slate-700"})]})]}),(0,s.jsx)("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:(0,s.jsx)("button",{onClick:S,className:"px-8 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:scale-105 transition-all",children:"Save Changes"})})]}),"notifications"===t&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-black text-slate-800 mb-4",children:"Notifications"}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-5 bg-slate-50 border border-slate-200 rounded-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(h.Z,{size:22,className:"text-slate-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-slate-700",children:"Email Notifications"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Receive updates via email"})]})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:N,onChange:()=>k(!N)}),(0,s.jsx)("div",{className:"w-14 h-7 bg-slate-300 rounded-full peer peer-checked:bg-indigo-600"}),(0,s.jsx)("div",{className:"absolute left-1 top-1 h-5 w-5 bg-white rounded-full border transition-all peer-checked:translate-x-7"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-5 bg-slate-50 border border-slate-200 rounded-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.Z,{size:22,className:"text-slate-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-slate-700",children:"Push Notifications"}),(0,s.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Allow alerts inside the app"})]})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-14 h-7 bg-slate-300 rounded-full peer peer-checked:bg-indigo-600"}),(0,s.jsx)("div",{className:"absolute left-1 top-1 h-5 w-5 bg-white rounded-full border transition-all peer-checked:translate-x-7"})]})]})]}),"security"===t&&(0,s.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,s.jsx)("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"Security & Login"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("input",{type:"password",placeholder:"Current Password",onChange:e=>z({...P,current:e.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)("input",{type:"password",placeholder:"New Password",onChange:e=>z({...P,newPass:e.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl"}),(0,s.jsx)("input",{type:"password",placeholder:"Confirm Password",onChange:e=>z({...P,confirm:e.target.value}),className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-xl"})]}),(0,s.jsx)("button",{onClick:M,className:"mt-2 w-fit px-6 py-3 bg-slate-800 text-white font-bold rounded-xl",children:"Update Password"})]})]}),"appearance"===t&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-black text-slate-800 mb-4",children:"Appearance"}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 rounded-2xl border cursor-pointer transition-all ".concat(f?"bg-white border-slate-200 hover:bg-slate-50":"bg-indigo-600 text-white shadow-xl"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(u.Z,{size:24,className:f?"text-slate-400":"text-indigo-200"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold",children:"Light Mode"}),(0,s.jsx)("p",{className:"text-sm opacity-80",children:"Bright and clean interface"})]})]}),!f&&(0,s.jsx)(x.Z,{size:22,className:"text-white"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 rounded-2xl border cursor-pointer transition-all ".concat(f?"bg-indigo-600 text-white shadow-xl":"bg-white border-slate-200 hover:bg-slate-50"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(p.Z,{size:24,className:f?"text-indigo-200":"text-slate-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold",children:"Dark Mode"}),(0,s.jsx)("p",{className:"text-sm opacity-80",children:"Perfect for night time"})]})]}),f&&(0,s.jsx)(x.Z,{size:22,className:"text-white"})]})]})]})]})]})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=2561)}),_N_E=e.O()}]);
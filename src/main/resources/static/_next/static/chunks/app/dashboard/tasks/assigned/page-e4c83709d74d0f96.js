(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2401],{17960:function(e,t,s){Promise.resolve().then(s.bind(s,85946))},33480:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let s=(0,a.forwardRef)((s,i)=>{let{color:n="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:x="",children:u,...p}=s;return(0,a.createElement)("svg",{ref:i,...r,width:o,height:o,stroke:n,strokeWidth:c?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(l(e)),x].join(" "),...p},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])});return s.displayName="".concat(e),s}},38711:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(33480).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},85946:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(57437),r=s(2265),l=s(38472),i=s(92145),n=s(74697),o=s(38711),d=s(54817),c=s(24241),x=s(71976),u=s(45348),p=s(75010);function b(){let[e,t]=(0,r.useState)([]),[s,b]=(0,r.useState)(null),[m,h]=(0,r.useState)(""),[g,f]=(0,r.useState)(!1),[j,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{l.Z.get("http://localhost:8081/api/tasks").then(async e=>{t(await Promise.all(e.data.map(async e=>{let t=e.projectId?await N(e.projectId):"",s=(await l.Z.get("http://localhost:8081/api/task-assignees/".concat(e.id,"/details")).catch(()=>({data:[]}))).data[0],a=s?s.name:"Unassigned",r=s?s.role:"",i=a.split(" ").map(e=>e[0]).join("").toUpperCase();return{id:e.id,title:e.title,projectId:e.projectId,project:t,assignee:a,assigneeRole:r,assigneeInitials:i,deadline:e.dueDate?e.dueDate.split("T")[0]:"",status:w(e.status),description:e.description||"",priority:y(e.priority)}})))}).catch(e=>console.error(e))},[]);let N=async e=>{try{let t=(await l.Z.get("http://localhost:8081/api/projects")).data.find(t=>t.id===e);return t?t.name:""}catch(e){return console.error(e),""}},w=e=>{switch(e){case"DONE":return"Done";case"IN_PROGRESS":return"In Progress";case"IN_REVIEW":return"In Review";default:return"Pending"}},y=e=>{switch(e){case"CRITICAL":return"Critical";case"HIGH":return"High";case"MEDIUM":default:return"Medium";case"LOW":return"Low"}},k=e.filter(e=>{let t=m.toLowerCase();return e.title.toLowerCase().includes(t)||e.project.toLowerCase().includes(t)||e.assignee.toLowerCase().includes(t)}),C=async()=>{if(!g){f(!0);return}if(j)try{await l.Z.put("http://localhost:8081/api/tasks/".concat(j.id,"/status"),{status:"Done"===j.status?"DONE":"In Progress"===j.status?"IN_PROGRESS":"TODO"}),await l.Z.put("http://localhost:8081/api/tasks/".concat(j.id),{title:j.title,description:j.description,priority:j.priority.toUpperCase(),dueDate:j.deadline?new Date(j.deadline).toISOString():null}),t(e=>e.map(e=>e.id===j.id?j:e)),b(null),f(!1)}catch(e){console.error(e),alert("Failed to update task")}};return(0,a.jsxs)("div",{className:"p-8 text-white min-h-screen",children:[(0,a.jsxs)("h1",{className:"text-3xl font-black mb-8",children:["Tasks ",(0,a.jsx)("span",{className:"text-blue-400",children:"Assigned By Me"})]}),(0,a.jsx)(u.M,{children:s&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)(p.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm",onClick:()=>b(null)}),(0,a.jsxs)(p.E.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-2xl bg-slate-900 border border-slate-800 rounded-[2rem] shadow-2xl overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"p-8 border-b border-slate-800 bg-slate-900/50 backdrop-blur-sm flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold border ".concat("Done"===s.status?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"In Progress"===s.status?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-amber-500/10 text-amber-400 border-amber-500/20"),children:s.status}),g?(0,a.jsxs)("select",{value:(null==j?void 0:j.priority)||"Medium",onChange:e=>v(t=>t?{...t,priority:e.target.value}:t),className:"flex items-center gap-1 text-xs font-bold px-2 py-1 rounded border   bg-slate-800 text-slate-400 border-slate-700",children:[(0,a.jsx)("option",{value:"Low",children:"Low"}),(0,a.jsx)("option",{value:"Medium",children:"Medium"}),(0,a.jsx)("option",{value:"High",children:"High"}),(0,a.jsx)("option",{value:"Critical",children:"Critical"})]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs font-bold px-2 py-1 rounded border ".concat("High"===s.priority||"Critical"===s.priority?"bg-rose-500/10 text-rose-400 border-rose-500/20":"bg-slate-800 text-slate-400 border-slate-700"),children:[(0,a.jsx)(i.Z,{size:10})," ",s.priority]})]}),(0,a.jsx)("input",{disabled:!g,className:"text-2xl font-black text-white leading-tight mb-1 bg-transparent border-b\n                                            ".concat(g?"border-blue-500":"border-slate-700","\n                                            disabled:opacity-70"),value:(null==j?void 0:j.title)||"",onChange:e=>v(t=>t?{...t,title:e.target.value}:t)}),(0,a.jsxs)("p",{className:"text-slate-400 text-sm",children:["Project:"," ",(0,a.jsx)("span",{className:"text-slate-200 font-medium",children:s.project})]})]}),(0,a.jsx)("button",{onClick:()=>b(null),className:"p-2 bg-slate-800 hover:bg-slate-700 rounded-full transition-colors text-slate-400 hover:text-white",children:(0,a.jsx)(n.Z,{size:18})})]}),(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Description"}),(0,a.jsx)("textarea",{disabled:!g,className:"text-slate-300 bg-slate-800/30 p-4 rounded-xl border border-slate-800/50 w-full min-h-[100px] resize-none disabled:opacity-70",value:(null==j?void 0:j.description)||"",onChange:e=>v(t=>t?{...t,description:e.target.value}:t)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-2",children:"Assignee"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-slate-800/30 rounded-xl border border-slate-800/50",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-sm font-bold border border-white/10 shrink-0",children:s.assigneeInitials}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-slate-200 font-medium leading-tight",children:s.assignee}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:s.assigneeRole})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,a.jsxs)("div",{className:"p-4 bg-slate-800/30 rounded-xl border border-slate-800/50",children:[(0,a.jsx)("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:"Deadline"}),(0,a.jsx)("input",{type:"date",disabled:!g,className:"text-white font-medium bg-slate-800/50 p-1 rounded disabled:opacity-70",value:(null==j?void 0:j.deadline)?new Date(j.deadline).toISOString().slice(0,10):"",min:new Date().toISOString().slice(0,10),onChange:e=>v(t=>t?{...t,deadline:e.target.value}:t)})]})})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-slate-800 bg-slate-900/50 flex justify-end gap-3 rounded-b-[2rem]",children:[(0,a.jsx)("button",{onClick:()=>{s&&alert("Reminder sent to assignee!")},className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white text-sm font-bold transition-colors",children:"Remind Assignee"}),(0,a.jsx)("button",{onClick:C,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white text-sm font-bold transition-colors",children:g?"Save Task":"Edit Task"})]})]})]})}),(0,a.jsxs)("div",{className:"bg-slate-900/50 border border-slate-800 rounded-3xl overflow-hidden backdrop-blur-md",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"font-bold text-lg flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"text-blue-400",size:20})," Delegation Overview"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:16}),(0,a.jsx)("input",{value:m,onChange:e=>h(e.target.value),className:"bg-slate-950 border-slate-800 rounded-lg py-2 pl-9 pr-4 text-sm w-64 focus:border-blue-500 focus:outline-none transition-colors text-slate-300",placeholder:"Search tasks..."})]})]}),(0,a.jsx)("div",{className:"divide-y divide-slate-800/50",children:k.length>0?k.map(e=>(0,a.jsxs)("div",{onClick:()=>{b(e),v({...e}),f(!1)},className:"p-5 hover:bg-slate-800/40 transition-colors flex items-center justify-between group cursor-pointer",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 w-1/3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-slate-200 group-hover:text-blue-200 transition-colors",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Project: ",e.project]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 w-1/4",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-xs font-bold border border-white/10 shrink-0",children:e.assigneeInitials}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"block text-sm font-medium text-slate-300",children:e.assignee}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:e.assigneeRole})]})]}),(0,a.jsxs)("div",{className:"text-left w-1/6",children:[(0,a.jsx)("span",{className:"block text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Deadline"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-sm font-medium text-slate-300",children:[(0,a.jsx)(c.Z,{size:14})," ",e.deadline]})]}),(0,a.jsx)("div",{className:"text-center w-24",children:(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold border ".concat("Done"===e.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"In Progress"===e.status?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"),children:e.status})}),(0,a.jsx)("button",{className:"p-2 hover:bg-slate-700 rounded-lg text-slate-500 hover:text-white transition-colors",children:(0,a.jsx)(x.Z,{size:18})})]},e.id)):(0,a.jsxs)("div",{className:"p-12 text-center text-slate-500",children:['No tasks found matching "',m,'"']})})]})]})}}},function(e){e.O(0,[5010,8472,673,2971,7023,1744],function(){return e(e.s=17960)}),_N_E=e.O()}]);
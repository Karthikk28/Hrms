(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4276],{42696:function(e,t,s){Promise.resolve().then(s.bind(s,47581))},76780:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(33480).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},13231:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(33480).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},40933:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(33480).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},404:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(33480).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},92513:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(33480).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},54817:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(33480).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},47581:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var n=s(57437),a=s(2265),l=s(38472),r=s(92513);/**
 * @license lucide-react v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(33480).Z)("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);var o=s(40933),c=s(13231),u=s(76780),d=s(54817),p=s(404),h=s(87138),f=s(45348),m=s(75010);function x(){let[e,t]=(0,a.useState)([]),[s,x]=(0,a.useState)("All"),[g,y]=(0,a.useState)(""),[b,v]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[N,C]=(0,a.useState)([]),[w,Z]=(0,a.useState)([]),[S,E]=(0,a.useState)(!1),[P,D]=(0,a.useState)(!1),[M,O]=(0,a.useState)(!1);(0,a.useEffect)(()=>{R()},[]);let R=async()=>{try{let e=await l.Z.get("http://localhost:8081/api/tasks"),s=await l.Z.get("http://localhost:8081/api/projects"),n={};s.data.forEach(e=>{n[e.id]=e.name});let a=await Promise.all(e.data.map(async e=>{let t=(await l.Z.get("http://localhost:8081/api/task-assignees/".concat(e.id,"/details")).catch(()=>({data:[]}))).data.map(e=>e.name),s=t.map(e=>e.split(" ").map(e=>e[0]).join("").toUpperCase());return{id:e.id,title:e.title,project:n[e.projectId]||"N/A",dueDate:e.dueDate?new Date(e.dueDate).toISOString().slice(0,10):"No Deadline",assignees:s,assigneeNames:t,status:I(e.status,e.dueDate),description:e.description||"",timeline:[{date:new Date(e.createdAt||e.dueDate).toLocaleString(),event:"Task Created"}]}}));t(a),H(a)}catch(e){console.error("Dashboard fetch error:",e)}},I=(e,t)=>{let s=new Date,n=new Date(t);return"DONE"===e?"Completed":"IN_PROGRESS"===e?"In Progress":"TODO"===e&&n<s?"Overdue":"Pending"},L=e.length,T=e.filter(e=>"In Progress"===e.status).length,z=e.filter(e=>"Completed"===e.status).length,A=e.filter(e=>"Overdue"===e.status).length,_=e.filter(e=>{let t="All"===s||e.status===s,n=e.title.toLowerCase().includes(g.toLowerCase())||e.project.toLowerCase().includes(g.toLowerCase());return t&&n}),H=e=>{let t=e.length;C([{name:"Product Design",load:Math.min(100,5*t),status:t>15?"Heavy Load":"Optimal"},{name:"Backend Team",load:Math.min(100,4*t),status:"Optimal"},{name:"Frontend Team",load:Math.min(100,3*t),status:"Healthy"}]);let s={};e.forEach(e=>{e.assigneeNames.forEach(e=>{s[e]||(s[e]=0),s[e]++})}),Z(Object.keys(s).map(e=>({name:e,role:"Member",tasks:s[e],avatar:e.split(" ").map(e=>e[0]).join(""),status:s[e]>5?"Busy":"Available"})))};return(0,n.jsxs)("div",{className:"min-h-screen bg-slate-950 text-white p-8 space-y-8",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"text-4xl font-black",children:["Task ",(0,n.jsx)("span",{className:"text-cyan-400",children:"Command Center"})]}),(0,n.jsx)("p",{className:"text-slate-400",children:"Manage assignments, track progress, and collaborate in real-time."})]}),(0,n.jsxs)(h.default,{href:"/dashboard/tasks/create",className:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-cyan-600 to-blue-600 text-white font-bold",children:[(0,n.jsx)(r.Z,{size:18})," Create New Task"]})]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Tasks",value:L,icon:i},{label:"In Progress",value:T,icon:o.Z},{label:"Completed",value:z,icon:c.Z},{label:"Overdue",value:A,icon:u.Z}].map((e,t)=>(0,n.jsxs)("div",{className:"p-6 rounded-3xl bg-slate-900 border border-slate-800",children:[(0,n.jsx)(e.icon,{className:"text-cyan-400 mb-4",size:24}),(0,n.jsx)("h3",{className:"text-4xl font-black",children:e.value}),(0,n.jsx)("p",{className:"text-slate-400",children:e.label})]},t))}),(0,n.jsxs)("div",{className:"flex gap-4 items-center relative",children:[(0,n.jsx)(d.Z,{className:"absolute left-3 text-slate-500",size:16}),(0,n.jsx)("input",{type:"text",placeholder:"Search tasks...",value:g,onChange:e=>y(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-xl py-2 pl-8 pr-4 text-slate-300"}),(0,n.jsxs)("button",{onClick:()=>v(!b),className:"px-4 py-2 bg-slate-800 rounded-xl flex items-center gap-2",children:[(0,n.jsx)(p.Z,{size:16})," ",s]}),(0,n.jsx)(f.M,{children:b&&(0,n.jsx)(m.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute top-12 left-48 bg-slate-900 border border-slate-800 rounded-xl p-2",children:["All","In Progress","Completed","Pending","Overdue"].map(e=>(0,n.jsx)("button",{onClick:()=>{x(e),v(!1)},className:"block w-full text-left px-4 py-2 hover:bg-slate-800 rounded-lg",children:e},e))})})]}),(0,n.jsx)("div",{className:"space-y-3",children:_.map(e=>(0,n.jsxs)("div",{className:"p-4 bg-slate-900 border border-slate-800 rounded-xl",children:[(0,n.jsx)("h4",{className:"font-bold",children:e.title}),(0,n.jsxs)("p",{className:"text-sm text-slate-400",children:[e.project," â€¢ Due: ",e.dueDate]}),(0,n.jsx)("span",{className:"text-xs font-bold text-cyan-400",children:e.status})]},e.id))})]})}},45348:function(e,t,s){"use strict";s.d(t,{M:function(){return b}});var n=s(57437),a=s(2265),l=s(5050),r=s(30458),i=s(9033),o=s(67797),c=s(59306),u=s(29791);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class p extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,c.R)(e)&&e.offsetWidth||0,n=(0,c.R)(e)&&e.offsetHeight||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left,a.bottom=n-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){var t,s;let{children:l,isPresent:r,anchorX:i,anchorY:o,root:c}=e,h=(0,a.useId)(),f=(0,a.useRef)(null),m=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:x}=(0,a.useContext)(u._),g=function(...e){return a.useCallback(function(...e){return t=>{let s=!1,n=e.map(e=>{let n=d(e,t);return s||"function"!=typeof n||(s=!0),n});if(s)return()=>{for(let t=0;t<n.length;t++){let s=n[t];"function"==typeof s?s():d(e[t],null)}}}}(...e),e)}(f,null!==(s=null===(t=l.props)||void 0===t?void 0:t.ref)&&void 0!==s?s:null==l?void 0:l.ref);return(0,a.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:n,right:a,bottom:l}=m.current;if(r||!f.current||!e||!t)return;f.current.dataset.motionPopId=h;let u=document.createElement("style");x&&(u.nonce=x);let d=null!=c?c:document.head;return d.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(h,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===i?"left: ".concat(n):"right: ".concat(a),"px !important;\n            ").concat("bottom"===o?"bottom: ".concat(l):"top: ".concat(s),"px !important;\n          }\n        ")),()=>{d.contains(u)&&d.removeChild(u)}},[r]),(0,n.jsx)(p,{isPresent:r,childRef:f,sizeRef:m,children:a.cloneElement(l,{ref:g})})}let f=e=>{let{children:t,initial:s,isPresent:l,onExitComplete:i,custom:c,presenceAffectsLayout:u,mode:d,anchorX:p,anchorY:f,root:x}=e,g=(0,r.h)(m),y=(0,a.useId)(),b=!0,v=(0,a.useMemo)(()=>(b=!1,{id:y,initial:s,isPresent:l,custom:c,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;i&&i()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[l,g,i]);return u&&b&&(v={...v}),(0,a.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[l]),a.useEffect(()=>{l||g.size||!i||i()},[l]),"popLayout"===d&&(t=(0,n.jsx)(h,{isPresent:l,anchorX:p,anchorY:f,root:x,children:t})),(0,n.jsx)(o.O.Provider,{value:v,children:t})};function m(){return new Map}var x=s(73241);let g=e=>e.key||"";function y(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:c,presenceAffectsLayout:u=!0,mode:d="sync",propagate:p=!1,anchorX:h="left",anchorY:m="top",root:b}=e,[v,j]=(0,x.oO)(p),k=(0,a.useMemo)(()=>y(t),[t]),N=p&&!v?[]:k.map(g),C=(0,a.useRef)(!0),w=(0,a.useRef)(k),Z=(0,r.h)(()=>new Map),S=(0,a.useRef)(new Set),[E,P]=(0,a.useState)(k),[D,M]=(0,a.useState)(k);(0,i.L)(()=>{C.current=!1,w.current=k;for(let e=0;e<D.length;e++){let t=g(D[e]);N.includes(t)?(Z.delete(t),S.current.delete(t)):!0!==Z.get(t)&&Z.set(t,!1)}},[D,N.length,N.join("-")]);let O=[];if(k!==E){let e=[...k];for(let t=0;t<D.length;t++){let s=D[t],n=g(s);N.includes(n)||(e.splice(t,0,s),O.push(s))}return"wait"===d&&O.length&&(e=O),M(y(e)),P(k),null}let{forceRender:R}=(0,a.useContext)(l.p);return(0,n.jsx)(n.Fragment,{children:D.map(e=>{let t=g(e),a=(!p||!!v)&&(k===D||N.includes(t));return(0,n.jsx)(f,{isPresent:a,initial:(!C.current||!!o)&&void 0,custom:s,presenceAffectsLayout:u,mode:d,root:b,onExitComplete:a?void 0:()=>{if(S.current.has(t)||(S.current.add(t),!Z.has(t)))return;Z.set(t,!0);let e=!0;Z.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),M(w.current),p&&(null==j||j()),c&&c())},anchorX:h,anchorY:m,children:e},t)})})}}},function(e){e.O(0,[4193,5010,8472,2971,7023,1744],function(){return e(e.s=42696)}),_N_E=e.O()}]);